search_space = ps(
  booster = p_fct(levels = c("gblinear", "gbtree", "dart")),
  nrounds = p_dbl(lower = 2, upper = 8, tags = c("int", "log"), trafo = function(x) as.integer(round(exp(x)))),
  eta = p_dbl(lower = -7, upper = 0, tags = "log", trafo = function(x) exp(x), depends = booster %in% c("dart", "gbtree")),
  gamma = p_dbl(lower = -10, upper = 2, tags = "log", trafo = function(x) exp(x), depends = booster %in% c("dart", "gbtree")),
  lambda = p_dbl(lower = -7, upper = 7, tags = "log", trafo = function(x) exp(x)),
  alpha = p_dbl(lower = -7, upper = 7, tags = "log", trafo = function(x) exp(x)),
  subsample = p_dbl(lower = 0.1, upper = 1),
  max_depth = p_int(lower = 1L, upper = 15L, depends = booster %in% c("dart", "gbtree")),
  min_child_weight = p_dbl(lower = 1, upper = 5, tags = "log", trafo = function(x) exp(x), depends = booster %in% c("dart", "gbtree")),
  colsample_bytree = p_dbl(lower = 0.01, upper = 1, depends = booster %in% c("dart", "gbtree")),
  colsample_bylevel = p_dbl(lower = 0.01, upper = 1, depends = booster %in% c("dart", "gbtree")),
  rate_drop = p_dbl(lower = 0, upper = 1, depends = booster == "dart"),
  skip_drop = p_dbl(lower = 0, upper = 1, depends = booster == "dart"),
  trainsize = p_dbl(lower = 0.03, upper = 1, tags = "budget"),
  repl = p_int(lower = 1L, upper = 10L, tags = "budget"),
  num.impute.selected.cpo = p_fct(levels = c("impute.mean", "impute.median", "impute.hist")),
  task_id = p_fct(levels = c("16", "40923", "41143", "470", "1487", "40499", "40966", "41164",
"1497", "40975", "1461", "41278", "11", "54", "300", "40984",
"31", "1067", "1590", "40983", "41163", "41165", "182", "1220",
"41159", "41169", "42", "188", "1457", "1480", "6332", "181",
"1479", "40670", "40536", "41138", "41166", "6", "14", "29",
"458", "1056", "1462", "1494", "40701", "12", "1493", "44", "307",
"334", "40982", "41142", "38", "1050", "469", "23381", "41157",
"15", "4541", "23", "4134", "40927", "40981", "41156", "3", "1049",
"40900", "1063", "23512", "40979", "1040", "1068", "41161", "22",
"1489", "41027", "24", "4135", "23517", "1053", "1468", "312",
"377", "1515", "18", "1476", "1510", "41162", "28", "375", "1464",
"40685", "40996", "41146", "41216", "40668", "41212", "32", "60",
"4538", "40496", "41150", "37", "46", "554", "1475", "1485",
"1501", "1111", "4534", "41168", "151", "4154", "40978", "40994",
"50", "1478", "1486", "40498"),
    tags = "task_id"
  )
)

domain = ps(
  booster = p_fct(levels = c("gblinear", "gbtree", "dart")),
  nrounds = p_int(lower = 7L, upper = 2981L),
  eta = p_dbl(lower = exp(-7), upper = exp(0),depends = booster %in% c("dart", "gbtree")),
  gamma = p_dbl(lower = exp(-10), upper = exp(2), depends = booster %in% c("dart", "gbtree")),
  lambda = p_dbl(lower = exp(-7), upper = exp(7)),
  alpha = p_dbl(lower = exp(-7), upper = exp(7)),
  subsample = p_dbl(lower = 0.1, upper = 1),
  max_depth = p_int(lower = 1L, upper = 15L, depends = booster %in% c("dart", "gbtree")),
  min_child_weight = p_dbl(lower = exp(1), upper = exp(5), depends = booster %in% c("dart", "gbtree")),
  colsample_bytree = p_dbl(lower = 0.01, upper = 1, depends = booster %in% c("dart", "gbtree")),
  colsample_bylevel = p_dbl(lower = 0.01, upper = 1, depends = booster %in% c("dart", "gbtree")),
  rate_drop = p_dbl(lower = 0, upper = 1, depends = booster == "dart"),
  skip_drop = p_dbl(lower = 0, upper = 1, depends = booster == "dart"),
  trainsize = p_dbl(lower = 0.03, upper = 1, tags = "budget"),
  repl = p_int(lower = 1L, upper = 10L, tags = "budget"),
  num.impute.selected.cpo = p_fct(levels = c("impute.mean", "impute.median", "impute.hist")),
  task_id = p_fct(levels = c("16", "40923", "41143", "470", "1487", "40499", "40966", "41164",
"1497", "40975", "1461", "41278", "11", "54", "300", "40984",
"31", "1067", "1590", "40983", "41163", "41165", "182", "1220",
"41159", "41169", "42", "188", "1457", "1480", "6332", "181",
"1479", "40670", "40536", "41138", "41166", "6", "14", "29",
"458", "1056", "1462", "1494", "40701", "12", "1493", "44", "307",
"334", "40982", "41142", "38", "1050", "469", "23381", "41157",
"15", "4541", "23", "4134", "40927", "40981", "41156", "3", "1049",
"40900", "1063", "23512", "40979", "1040", "1068", "41161", "22",
"1489", "41027", "24", "4135", "23517", "1053", "1468", "312",
"377", "1515", "18", "1476", "1510", "41162", "28", "375", "1464",
"40685", "40996", "41146", "41216", "40668", "41212", "32", "60",
"4538", "40496", "41150", "37", "46", "554", "1475", "1485",
"1501", "1111", "4534", "41168", "151", "4154", "40978", "40994",
"50", "1478", "1486", "40498"),
    tags = "task_id"
  )
)

codomain = ps(
  acc = p_dbl(lower = 0, upper = 1, tags = "maximize"),
  bac = p_dbl(lower = 0, upper = 1, tags = "maximize"),
  f1 = p_dbl(lower = 0, upper = 1, tags = "maximize"),
  auc = p_dbl(lower = 0, upper = 1, tags = "maximize"),
  brier = p_dbl(lower = 0, upper = 1, tags = "minimize"),
  logloss = p_dbl(lower = 0, upper = Inf, tags = "minimize"),
  timetrain = p_dbl(lower = 0, upper = Inf, tags = "minimize"),
  timepredict = p_dbl(lower = 0, upper = Inf, tags = "minimize"),
  memory = p_dbl(lower = 0, upper = Inf, tags = "minimize")
)
